import { config as dotenvConfig } from "dotenv";

dotenvConfig();

const loadEnvVariable = (envName) => {
  const env = process.env[envName];
  if (!env) {
    throw new Error(`Environment variable => ${envName} is undefined.`);
  }
  return env;
};

const config = {
  APP: {
    NODE_ENV: loadEnvVariable("NODE_ENV"),
    PORT: loadEnvVariable("PORT") || 3001,
  },
  MONGO: {
    CONN_STRING: loadEnvVariable("MONGO_CONN_STRING"),
  },
  JWT: {
    TOKEN_SECRET: loadEnvVariable("JWT_TOKEN_SECRET"),
  },
};

export default config;
