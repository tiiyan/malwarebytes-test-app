import DevicesService from "./device.service.js";

const deviceService = new DevicesService();

export default class DeviceController {
  async findAllDevices(req, res, next) {
    try {
      const devices = await deviceService.findAllDevices();

      res.status(200).send({ devices });
    } catch (error) {
      next(error);
    }
  }

  async findDeviceById(req, res, next) {
    try {
      const device = await deviceService.findDeviceById(req.params.id);
      res.status(200).send({ device });
    } catch (error) {
      next(error);
    }
  }

  async updateDevices(req, res, next) {
    try {
      const updatedDevice = await deviceService.updateDevices(req.body.devices);
      res.status(200).send({ updatedDevice });
    } catch (error) {
      next(error);
    }
  }
}
